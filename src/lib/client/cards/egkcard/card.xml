<cards>
  <card name="egk" extends="ProcessorCard" type="processor" >
    <cardinfo>
      <name>eGK</name>
      <descr>
        HBCI card, new style
      </descr>
      <atrs>
       <atr>3b 9? ?? 81 b1 fe 45 1f *</atr>
      </atrs>
    </cardinfo>
    
    <commands>

      <command name="SelectMF" >
        <send>
          <APDU lr="256" >
            <ELEM type="dword">0x00a40000</ELEM>
          </APDU>
          <DATA>
            <ELEM type="word">0x3f00</ELEM>
          </DATA>
        </send>
        <results>
          <result sw1="0x6a" sw2="0x82" type="error">File not found</result>
        </results>
        <responses>
          <response type="success">
            <ELEM name="fileInfo" type="tlv" tlvtype="simple" minnum="0">
              <tlv id="0x6f">
                <ELEM name="fci" type="tlv" tlvtype="simple"
                      maxnum="0">
                  <tlv id="0x81">
                    <ELEM name="space" type="word" />
                  </tlv>
                  <tlv id="0x82">
                    <ELEM name="fileDescr" type="bytes" />
                  </tlv>
                  <tlv id="0x83">
                    <ELEM name="shortFileId" type="word" />
                  </tlv>
                  <tlv id="0x84">
                    <ELEM name="fileName" type="bytes" />
                  </tlv>
                  <tlv id="0x85">
                    <ELEM name="sfi" type="byte" />
                    <ELEM name="filePath" type="bytes" />
                  </tlv>
                  <tlv id="0x86" name="AC" >
                    <ELEM name="AC_admin" type="word" />
                    <GROUP name="AC_cmd" minnum="0" maxnum="0" >
                      <ELEM name="cla" type="byte" />
                      <ELEM name="ins" type="byte" />
                      <ELEM name="ac" type="word" />
                    </GROUP>
                  </tlv>
                  <tlv id="0xa5">
                    <ELEM name="accessControl" type="tlv" tlvtype="simple"
                          maxnum="0">
                      <tlv id="0x86" name="AC" >
                        <ELEM name="sfi" type="byte" />
                        <ELEM name="AC_admin" type="word" />
                        <ELEM name="moreACs" type="bytes" minnum="0" />
                      </tlv>
                    </ELEM>
                  </tlv>
                </ELEM>
              </tlv>
            </ELEM>
          </response>
          
        </responses>
      </command>

      <!-- no special commands for this card -->
      
    </commands>
    
    <!-- generic command responses -->
    <results>
    </results>

  </card>
</cards>

